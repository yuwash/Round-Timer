$(document).ready(function(){var a=0,b=0,c=0,d=0,e=0,f=!1,g=null,h=document.getElementById("bell"),i=document.getElementById("ten"),j=document.getElementById("gong"),k=10;!function(a){a.fn.bidigitNumber=function(a){return a%=100,this.text(10>a?"0"+a:a),this}}(jQuery);var l=function(a,b){this.minutesElement=a,this.secondsElement=b};l.prototype.setMinutes=function(a){this.minutesElement.bidigitNumber(a)},l.prototype.setSeconds=function(a){this.secondsElement.bidigitNumber(a)},l.prototype.getMinutes=function(){return parseInt(this.minutesElement.text())},l.prototype.getSeconds=function(){return parseInt(this.secondsElement.text())};var m=new l($("#round-time #r-minutes"),$("#round-time #r-seconds")),n=new l($("#rest #rt-minutes"),$("#rest #rt-seconds")),o=new l($("#tminutes"),$("#tseconds"));$("#rounds .plus").click(function(){var b=parseInt($("#total-rounds").text());b+=1,$("#total-rounds").text(b),a=b}),$("#rounds .minus").click(function(){var b=parseInt($("#total-rounds").text());b>0&&(b-=1),$("#total-rounds").text(b),a=b}),$("#round-time .plus").click(function(){var a=m.getSeconds();a=(a+1)%60,m.setSeconds(a),o.setSeconds(a),c=a}),$("#round-time .minus").click(function(){var a=m.getSeconds();a=(a-1)%60,0>a&&(a+=60),m.setSeconds(a),o.setSeconds(a),c=a}),$("#round-time .plus-minutes").click(function(){var a=m.getMinutes();a=(a+1)%60,m.setMinutes(a),o.setMinutes(a),b=a}),$("#round-time .minus-minutes").click(function(){var a=m.getMinutes();a=(a-1)%60,0>a&&(a+=60),m.setMinutes(a),o.setMinutes(a),b=a}),$("#rest .plus").click(function(){var a=n.getSeconds();a=(a+1)%60,60>a&&(n.setSeconds(a),d=a)}),$("#rest .minus").click(function(){var a=n.getSeconds();a=(a-1)%60,0>a&&(a+=60),n.setSeconds(a),d=a}),$("#rest .plus-minutes").click(function(){var a=n.getMinutes();a=(a+1)%60,n.setMinutes(a),e=a}),$("#rest .minus-minutes").click(function(){var a=n.getMinutes();a=(a-1)%60,0>a&&(a+=60),n.setMinutes(a),e=a}),$(".mobile-round-count").change(function(){a=parseInt($(this).val()),console.log(a)}),$(".mobile-round-minutes").change(function(){var a=parseInt($(this).val());b=a,console.log(b),o.setMinutes(b)}),$(".mobile-round-seconds").change(function(){var a=parseInt($(this).val());c=a,console.log(c),o.setSeconds(c)}),$(".mobile-rest-minutes").change(function(){var a=parseInt($(this).val());e=a,console.log(e)}),$(".mobile-rest-seconds").change(function(){var a=parseInt($(this).val());d=a,console.log(a)}),$("#stop").click(function(){location.reload()}),$("#start").click(function(){if(0==a)alert("You must set the number of rounds");else{$("#start").hide(),$("#prepare").css("margin-left","0"),$("#ptimer").text(k);var b=setInterval(function(){k-=1,$("#ptimer").text(k),0==k&&($("#prepare").css("margin-left","-9999px"),clearInterval(b),h.play(),u())},1e3)}});var p=function(){c>0?(c-=1,10==c&&0==b&&i.play(),o.setSeconds(c)):0==c&&q()},q=function(){b-=1,c=59,o.setMinutes(b),o.setSeconds(c)},r=function(){j.play(),a-=1,f=!0,o.setMinutes(e),o.setSeconds(d),$("#round-counter").css("background-color","red")},s=function(){t(),alert("Session Over!"),a=window.innerWidth<=600?$("#mobile-round-count").val():parseInt($("#total-rounds").text()),$("#start").show()},g=function(){d>0?(d-=1,o.setSeconds(d)):0==d&&e>0?(e-=1,d=59,o.setMinutes(e),o.setSeconds(d)):(f=!1,h.play(),t())},t=function(){$("#round-counter").css("background-color","white"),window.innerWidth<=600?(b=$(".mobile-round-minutes").val(),c=$(".mobile-round-seconds").val(),e=$(".mobile-rest-minutes").val(),d=$(".mobile-rest-seconds").val(),a=$(".mobile-round-count").val()):(c=m.getSeconds(),b=m.getMinutes(),d=n.getSeconds(),e=n.getMinutes()),o.setMinutes(b),o.setSeconds(c),k=10},u=function(){var d=setInterval(function(){switch(!0){case a>0&&c>0&&!f:p();break;case 0==c&&b>0:q();break;case 0==b&&0==c&&!f&&1!=a:r();break;case a>=1&&f:g();break;default:clearInterval(d),s()}},1e3)}});